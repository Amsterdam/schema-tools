{
  "type": "dataset",
  "id": "scope_filtering",
  "title": "Schema scope filtering",
  "description": "Schema for unit testing that DatasetSchemas can be filtered on scope",
  "defaultVersion": "v1",
  "versions": {
    "v1": {
      "enableAPI": true,
      "version": "1.0.0",
      "status": "stable",
      "tables": [
        {
          "id": "unscoped_table",
          "title": "Unscoped table to test if it can be accessed when scopes are provided",
          "type": "table",
          "version": "1.0.0",
          "status": "stable",
          "schema": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "identifier": "id",
            "type": "object",
            "additionalProperties": false,
            "required": [
              "id",
              "schema"
            ],
            "display": "id",
            "properties": {
              "schema": {
                "$ref": "https://schemas.data.amsterdam.nl/schema@v3#/definitions/schema"
              },
              "id": {
                "title": "id",
                "type": "string",
                "description": "Unieke identificatie"
              },
              "scoped_field": {
                "title": "scoped_field",
                "type": "string",
                "description": "Scope filtering",
                 "auth": [
                    "FIELD/AUTH"
                ]
              }
            }
          }
        },
        {
          "id": "scoped_table",
          "title": "Scoped table to test if it can be accessed when (correct) scopes are provided",
          "type": "table",
          "version": "1.0.0",
          "status": "stable",
          "schema": {
            "$schema": "http://json-schema.org/draft-07/schema#",
            "identifier": "id",
            "type": "object",
            "additionalProperties": false,
            "required": [
              "id",
              "schema"
            ],
            "display": "id",
            "properties": {
              "schema": {
                "$ref": "https://schemas.data.amsterdam.nl/schema@v3#/definitions/schema"
              },
              "id": {
                "title": "id",
                "type": "string",
                "description": "Unieke identificatie"
              },
              "scoped_field": {
                "title": "scoped_field",
                "type": "string",
                "description": "Scope filtering",
                 "auth": [
                    "FIELD/AUTH"
                ]
              }
            }
          },
          "auth": [
            "TABLE/AUTH"
          ]
        }
      ]
    }
  },
  "publisher": "unknown",
    "auth": [
        {
            "type": "scope",
            "id": "DS/AUTH",
            "name": "DS/AUTH",
            "accessPackages": {
                "nonProduction": "EM4W-DATA-schemascope-ot-scope_hr_r",
                "production": "EM4W-DATA-schemascope-p-scope_hr_r"
            },
            "owner": {
                "$ref": "publishers/BENK"
            }
        }
    ]
}
